<!--Creates a collapsible section for each app-->
<details class="software list-group-item-action list-group-item list-group-item-application 
    {% for domain in app.domains -%}list-group-item-application-{{ domain }}{% endfor -%}
    ">
    <!--Acts as clickable header for the app card-->
    <summary class="card-clickable collapsed" data-toggle="collapse" data-parent="#mainList" 
        data-target="#collapse-{{ app_name | lower }}" aria-expanded="true">
        <h4 class="app-list-header">{{ app_name }}</h4><!--displays app name-->
        <!--for each item in domains for the app it displays a badge-->
        {% for domain in app.domains -%} 
            <span class="badge-largeinator">
                <span class="badge badge-domain badge-domain-{{ domain }}">{{ domain | capitalize }}</span>
            </span>
        {% endfor -%}
    </summary>
        <div class="card-body card-app">
            <p class="cardbody cardbody-description">{{ app.description }}</p>
            <div class="grid flex-card-parent">
                
                <div class="flex-card">
                    <h5>Links</h5>
                    <ul class="docLinks-list">
                    <!--This is the link for the external page support-->
                    {% if app.homepage or app.url -%}
                    <li>
                        <span class="twemoji">{% include ".icons/material/home.svg" %}</span>
                        <a href="{{ app.homepage or app.url }}">{{ app_name }} Homepage</a>
                    </li>
                    {% endif -%}
                    <!--This is the page for the internal support pages -->
                    {% if app.support -%}
                    <li> 
                        <span class="twemoji">{% include ".icons/material/book-open-page-variant-outline.svg" %}</span>
                        <a href="{{ app.support }}">NeSI Documentation</a>
                    </li>
                    {% endif -%}    
                    </ul>
                </div>
                {% if app.modules %}
                <div class="flex-card">
                    <h5>Module Available</h5>
                    {% if not app -%}{% set app = applications[app_name] -%}{% endif -%}
                    <pre><code id="mod_{{app_name | lower}}_code">module load {{app_name}}/{{app.default}}</code></pre>
                </div>
                {% endif %}
            
        </div>
    </div>
</details>

